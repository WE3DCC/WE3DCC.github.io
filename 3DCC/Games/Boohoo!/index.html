<html>
    <head>
        <title>A-Frame Altspace Component - Test Sync</title>
        <script src="https://aframe.io/releases/0.3.1/aframe.min.js"></script>
        <script src="https://sdk.altvr.com/libs/altspace.js/2.6.1/altspace.min.js"></script>
        <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
        <script src="js/three.js"></script>
        <script> AFRAME.registerComponent('HideandPlaceBoo', function (){

            init: function () {
                var TimesShown = 0
                var booHoo = document.querySelector('#BooHoo');
                var randomHidingPlace = function () {
                    var xspot = Math.randInt(0, 10);
                    var yspot = Math.randInt(0, 10);
                    var zspot = Math.randInt(0, 10);
                    var nextrandomspotposition = AFRAME.utils.coordinates.parse('xspot yspot zspot');
                    booHoo.setAttribute("position", nextrandomspotposition);
                    };
                //sync game to player who clicks on play button
                }; 
                    
            update: function () {
                // Listen for Player Finding Click
                var self = this;
                booHoo.addEventlistener('teamscored', function(){
                    //add team finding collective count
                    TimesShown += 1;
                    booHoo.components.sync.takeOwnership();
                    //Toggle visibility off
                    booHoo.setAttribute('visible', false);
                    self.emit('booisgone');
                    console.log('TimeShown is ' + TimeShown);
                    });
                booHoo.addEventlistener('booisgone', function (){
                    // repalce boo in random position while hidden
                    randomHidingPlace();
                    booHoo.setAttribute('visible', true);
                    });
                }
            });
        </script>
    </head>
    <body>
        <a-scene debug HideandPlaceBoo sync-system="author: 3dcc; app: boohoo!" altspace="fullspace: true">
            <a-assets>
                <a-mixin id="coneGeo" geometry="primitive: cone; radius-top: 0; radius-bottom: 0.5" material="color: grey"></a-mixin>
                <a-mixin id="sphereGeo" geometry="primitive: sphere; radius: 0.5;" material="color: grey"></a-mixin>
                <a-mixin id="yoyoAni" attribute="position" direction="alternate"
                    dur="3000" fill="forwards" repeat="indefinite"></a-mixin>
                <a-mixin id="FoundMe" attribute="rotation" direction="reverse"
                    dur="1000" fill="forwards"></a-mixin>
                <a-mixin id="RevealMe" attribute="visibility" direction="normal"
                    dur="3000" fill="forwards"></a-mixin>
            </a-assets>
            <!-- Cardboard Camera -->
            <a-entity position="0 2.2 4">
                <a-entity camera look-controls>
                    <a-entity cursor="maxDistance: 30; fuse: true; fuseTimeout: 1600" position="0 0 -3"
                            geometry="primitive: ring; radiusOuter: 0.30;
                                        radiusInner: 0.20;"
                            material="color: cyan; shader: flat">
                    <a-animation begin="mouseenter" easing="linear" attribute="scale"
                            fill="forwards" from="4 4 4" to="0.1 0.1 0.1" dur="1500" end="mouseleave"></a-animation>
            <a-animation begin="mouseleave" dur="50" easing="ease-out-bounce" attribute="scale"
                                fill="forwards" from="1 1 1" to="1 1 1" ></a-animation> 
            <a-animation begin="click" dur="20" easing="ease-out-bounce" attribute="scale"
                                fill="forwards" direction="backwards" from="0.5 0.5 0.5" to="1 1 1" ></a-animation>
                    </a-entity>
                </a-entity>
        </a-entity>

            <a-entity id="BooHoo" 
                mixin="coneGeo"
                random-position
                altspace-cursor-collider
                wire="on: click; emit:teamscored"
                sync="ownOn: mousedown" sync-transform sync-color>
                <a-animation mixin="yoyoAni" to="-1 1 0"></a-animation>
                <a-animation begin="click" mixin="FoundMe" to="0 0 360"></a-animation>
                <a-animation begin="mouseenter" mixin="RevealMe" to="false" delay="6000"></a-animation>
            </a-entity>
        </a-scene>
     
          <!--
        <script>
            var changeColorRandom = function (el) {
                var rand = function () { return Math.floor(Math.random() * 255) };
                el.setAttribute('material', 'color', 'rgb(' + rand() + ',' + rand() + ',' + rand() + ')');
            }
            //TODO: Because we are attaching our event listeners here, we have to double check to
            // Cone 1: Testing mousedown, listening on the entity.
            var cone1El = document.querySelector('#cone1');
            cone1El.addEventListener('mousedown', function (event) {
                changeColorRandom(event.target);
            });
            // Cone 2: Testing click, listening on the cursor.
            var cone2El = document.querySelector('#cone2');
            var cursorEl = document.querySelector('a-cursor');
            cursorEl.addEventListener('click', function (event) {
                var el = event.detail.target;
                if (el && el.object3D.uuid === cone2El.object3D.uuid) {
                    changeColorRandom(el);
                }
            });
            // Sphere: Testing mousedown/mouseup events.
            var sphereEl = document.querySelector('#sphere');
            sphereEl.addEventListener('mouseenter', function (event) {
                changeColorRandom(event.target);
            });
            sphereEl.addEventListener('mouseleave', function (event) {
                event.target.setAttribute('material', 'color', 'grey');
            });
        </script> 
    
    
    
    
    
    
    
    <html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta charset="utf-8" />
    <title>Visibility</title>
    <meta name="description" content="Visibility - A-Frame" />
    <script async="" src="https://www.google-analytics.com/analytics.js"></script><script src="../../../dist/aframe.js"></script>
    <script src="../../../dist/aframe-altspace-component.js"></script>
  <style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style><script src="https://aframe.io/releases/0.3.0/aframe-inspector.min.js"></script></head>
  <body class="a-body aframe-inspector-opened">
    <a-scene stats="" altspace="" scale="0.2 0.2 0.2" class="fullscreen" canvas="" inspector="" keyboard-shortcuts="" vr-mode-ui="">
      <a-assets>
        <a-mixin id="cube" geometry="primitive: box"></a-mixin>
        <a-mixin id="cube-hovered" material="color: pink"></a-mixin>
        <a-mixin id="cube-selected" material="color: cyan"></a-mixin>
        <a-mixin id="red" material="color: red"></a-mixin>
        <a-mixin id="green" material="color: green"></a-mixin>
        <a-mixin id="blue" material="color: blue"></a-mixin>
        <a-mixin id="yellow" material="color: yellow"></a-mixin>
        <a-mixin id="sphere" geometry="primitive: sphere"></a-mixin>
      </a-assets>

      <a-entity position="0 0 4" rotation="" scale="" visible="">
        <a-camera camera="" position="" rotation="" look-controls="" wasd-controls="" scale="" visible="">
          <a-cursor material="" raycaster="" cursor="" geometry="" position="" rotation="" scale="" visible=""></a-cursor>
        </a-camera>
      </a-entity>

      <a-entity id="shapes" position="0 0 -2" rotation="" scale="" visible="">
        <a-entity id="blueCube" material="color: blue" geometry="primitive: box" rotation="25 25 0" position="" scale="" visible=""></a-entity>

        <a-entity id="redSphere" material="color: red" geometry="primitive: sphere;" visible="false" position="" rotation="" scale=""></a-entity>

        <a-entity id="greenCylinder" position="-3.5 0 0" rotation="25 25 0" material="color: green" geometry="primitive: cylinder;" scale="" visible=""></a-entity>

        <a-entity id="pinkTorus" position="3.5 0 0" rotation="25 -25 0" material="color: hotpink" geometry="primitive: torus;" scale="" visible=""></a-entity>
      </a-entity>
    <canvas class="a-canvas a-grab-cursor" data-aframe-canvas="true" width="2802" height="2732" style="width: 1401px; height: 1366px;"></canvas><a-entity camera="" position="" rotation="" scale="" visible=""></a-entity></a-scene>

    <script>
      (function () {
        var blueCube = document.querySelector('#blueCube');
        var redSphere = document.querySelector('#redSphere');
        var greenCylinder = document.querySelector('#greenCylinder');
        document.addEventListener('click', function (e) {
          switch (e.target) {
            case blueCube: {
              redSphere.setAttribute('visible', true);
              break;
            }
            case redSphere: {
              redSphere.setAttribute('visible', false);
              break;
            }
            case greenCylinder: {
              var oldVisible = greenCylinder.getComputedAttribute('visible');
              // See issue: https://github.com/aframevr/aframe/issues/579
              if (oldVisible === null) { oldVisible = true; }
              greenCylinder.setAttribute('visible', !oldVisible);
              break;
            }
            case pinkTorus: {
              // Yes, this is gross. See https://github.com/aframevr/aframe/issues/531
              var oldMaterial = pinkTorus.getComputedAttribute('material');
              var oldOpacity = oldMaterial.opacity;
              var newOpacity = oldOpacity === 1 ? 0 : 1;
              var newMaterial = oldMaterial;
              newMaterial.opacity = newOpacity;
              pinkTorus.setAttribute('material', newMaterial);
              break;
            }
          }
        });
      })();
    </script>
  

</body></html>-->
    </body>
    </html>
    