<html>
    <head>
        <title>We3D.CC:BooHoo.Altspacevs</title>
        <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/mrdoob/three.js/r84/build/three.js"></script>
        <script src="https://sdk.altvr.com/libs/altspace.js/2.8.1/altspace.min.js"></script>
    <!--  <script>AFRAME.registerComponent('loadme', {
        init: function (){
            var entity = this.el.object3D;
            var loader = new THREE.GLTFLoader();
            loader.load(
        		// resource URL
        		'models/hemp.glb')
        		// called when the resource is loaded

            //playb.setPath('models/tester.bin');
            //var playgeo = new THREE.Geometry( playb );
          //  var texture = new THREE.TextureLoader().load( "images/IMG_6214.jpg" );
          //  var material = new THREE.MeshBasicMaterial( { map: texture } );
          //  var playc = new THREE.Mesh( playgeo);
          //  entity.add( playc );
            },
        });
      </script> -->
      <script>AFRAME.registerComponent('puzzlepiece', {
        init: function (){
            var sceneEl = this.el.object3D;
            var length = 1, width = 1;

            var shape = new THREE.Shape();
            shape.moveTo( 0,0 );
            shape.lineTo( 0, width );
            shape.lineTo( length, width );
            shape.lineTo( length, 0 );
            shape.lineTo( 0, 0 );

            var extrudeSettings = {
              steps: 2,
              amount: 1,
              bevelEnabled: true,
              bevelThickness: 1,
              bevelSize: 0.5,
              bevelSegments: 1
            };

            var texture = new THREE.TextureLoader().load( "images/candycanetexture.png" );
            texture.wrapS = THREE.ClampToEdgeWrapping;
            texture.wrapT = THREE.ClampToEdgeWrapping;
            var material = new THREE.MeshBasicMaterial( { map: texture } );
            var test =[material];
            var geometrys = new THREE.ExtrudeGeometry( shape, extrudeSettings );
            var mesh = new THREE.Mesh( geometrys, test[0]) ;
            sceneEl.add( mesh );

        },
      });
    </script>

      <script>AFRAME.registerComponent('puzzlematerial', {
        init: function (){
          var el = this.el.object3D;
          var texture = new THREE.TextureLoader().load( "images/Weepuzz.jpg" );
          texture.wrapS = THREE.ClampToEdgeWrapping;
          texture.wrapT = THREE.ClampToEdgeWrapping;
        //  el.getOrCreateObject3D('mesh', THREE.Mesh);
          var material = el.getOrCreateObject3D('mesh').material = new THREE.MeshBasicMaterial( { map: texture } );
          el.add( material );
        },
      });
      </script>

    </head>

    <body>
        <a-scene altspace="fullspace: true">
        <!--#Lights -->
            <a-assets>
            <!-- assets -->
            <img id="weed" src="images/Weepuzz.jpg">
            </a-assets>

            <a-entity n-gltf="url: https://WE3DCC.github.io/3DCC/Games/Boohoo!/models/Tree_Start.glb"
              position="-1 0 0"><a-entity>

            <a-entity geometry="primitive: box">
              <a-entity  position=" 2 0 2" material="color: red"></a-entity>
            <a-entity>

        </a-scene>
    </body>

</html>
