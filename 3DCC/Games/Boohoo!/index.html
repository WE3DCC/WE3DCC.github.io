<html>
    <head>
        <title>We3D.CC:BooHoo!.Altspacevs</title>
        <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
        <script src="https://sdk.altvr.com/libs/altspace.js/2.6.2/altspace.min.js"></script>
        <script>AFRAME.registerComponent('hidertwo', {
            init: function () {
                var entity = this.el.object3D;
                var hideTimes = 0;
                entity.addEventListener('cursordown', function() {
                        var max = 60;
                        var min = -60;
                        var ymin = 0;
                        var newHidingSpotx = Math.floor(Math.random() * (max - min)) + min;
                        var newHidingSpoty = Math.floor(Math.random() * (max - ymin)) + ymin;
                        var newHidingSpotz = Math.floor(Math.random() * (max - min)) + min;
                        entity.position.set(newHidingSpotx, newHidingSpoty, newHidingSpotz);
                        hideTimes +=1;
                        console.log('Hidden: ' + hideTimes);
                        console.log(this.position);
                        });
                    if (hideTimes > 5){
                        this.el.object3DMap['mesh'].visible = false;
                    };
                },
            });
    </script>
    </head>
    <body>
        <a-scene debug altspace="fullspace: true">
            <a-assets>
                <a-asset-item id="boohooObj" src="models/BooHootheGhost.obj"></a-asset-item>
                <a-asset-item id="boohooMtl" src="models/BooHootheGhost.mtl"></a-asset-item>
                <a-mixin id="coneGeo" geometry="primitive: cone; radius-top: 0; radius-bottom: 0.5" material="color: grey"></a-mixin>
                <a-mixin id="sphereGeo" geometry="primitive: sphere; radius: 0.5;" material="color: grey"></a-mixin>
                <a-mixin id="yoyoAni" attribute="position" direction="alternate"
                    dur="3000" fill="forwards" to="1 1 1"repeat="indefinite"></a-mixin>
            </a-assets>
            
            <!-- Cardboard Camera -->
            <a-entity position="0 1.8 2">
				<a-camera look-controls>
				  <a-cursor position="0 0 -1.25"
                        fill="forwards" from="4 4 4" to="0.1 0.1 0.1" dur="1500" end="mouseleave"></a-animation>
                        <a-animation begin="mouseleave" dur="50" easing="ease-out-bounce" attribute="scale"
                            fill="forwards" from="1 1 1" to="1 1 1" ></a-animation> 
                        <a-animation begin="click" dur="20" easing="ease-out-bounce" attribute="scale"
                            fill="forwards" direction="backwards" from="0.5 0.5 0.5" to="1 1 1" ></a-animation> 
                    </a-cursor>
				</a-camera>
			  </a-entity>
                <!-- Game logic script -->
           

            <!--n-mesh-collider="convex: false; height: 2; radius: 2; type: 'object'" -->
            <a-entity>
                <a-obj-model src="#boohooObj" mtl:"#boohooMtl"
                position= "0 0 0"
                id="BooHoo1"
                hidertwo
                altspace-cursor-collider>
                <a-animation to="0 360 0" easing="linear" dur="10000" repeat="indefinite"></a-animation>
            </a-obj-model>
            </a-entity>   
            
            <a-entity>
                <a-entity mixin="sphereGeo yoyoAni"></a-entity>
            </a-entity>
        
        </a-scene>
    </body>
</html>
    
